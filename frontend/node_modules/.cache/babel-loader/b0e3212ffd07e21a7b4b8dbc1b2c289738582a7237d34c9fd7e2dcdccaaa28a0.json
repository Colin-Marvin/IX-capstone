{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import Navbar from\"../../components/Navbar\";import BlogList from\"../../components/BlogList\";import Footer from\"../../components/Footer\";import Loading from\"../../components/Loading\";import AddEditBlogModal from\"../../components/AddEditBlogModal\";import DeleteBlogModal from\"../../components/DeleteBlogModal\";import SuccessToast from\"../../components/SuccessToast\";import ErrorToast from\"../../components/ErrorToast\";import blogService from\"../../services/blogService\";import authService from\"../../services/authService\";import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";export default function ProfilePage(){const{authorId}=useParams();const[author,setAuthor]=useState();const[blogs,setBlogs]=useState([]);const[isError,setIsError]=useState(false);const[isSuccess,setIsSuccess]=useState(false);const[message,setMessage]=useState(\"\");const[isLoading,setIsLoading]=useState(false);useEffect(()=>{const fetchAuthorBlogs=async()=>{try{setIsLoading(true);const author=await authService.getUser(authorId);const blogs=await blogService.fetchBlogsByAuthorId(authorId);setBlogs(blogs.data);setAuthor(author.data);setIsLoading(false);}catch(error){setIsError(true);setIsLoading(false);setMessage(error.message||error);}};fetchAuthorBlogs();},[authorId]);const resetSuccess=()=>{setIsSuccess(false);setMessage(\"\");};const resetError=()=>{setIsError(false);setMessage(\"\");};const AuthorDetails=()=>{return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8 col-lg-6 col-xl-4 mx-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"position-sticky my-5\",style:{top:\"2rem\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 mb-3 bg-light rounded\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"fst-italic\",children:[author.firstName,\" \",author.lastName]}),/*#__PURE__*/_jsx(\"img\",{src:author.image,className:\"avatar\",alt:\"...\"}),/*#__PURE__*/_jsxs(\"p\",{children:[author.bio.substring(0,100),\"...\"]})]})})});};if(isLoading||!author||!blogs){return/*#__PURE__*/_jsx(Loading,{});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(AuthorDetails,{}),/*#__PURE__*/_jsx(\"p\",{className:\"page-subtitle\",children:\"Author Blog Posts\"}),/*#__PURE__*/_jsx(BlogList,{blogs:blogs}),/*#__PURE__*/_jsx(Footer,{})]}),/*#__PURE__*/_jsx(AddEditBlogModal,{}),/*#__PURE__*/_jsx(DeleteBlogModal,{}),/*#__PURE__*/_jsx(SuccessToast,{show:isSuccess,message:message,onClose:resetSuccess}),/*#__PURE__*/_jsx(ErrorToast,{show:isError,message:message,onClose:resetError})]});}","map":{"version":3,"names":["React","useEffect","useState","useParams","Navbar","BlogList","Footer","Loading","AddEditBlogModal","DeleteBlogModal","SuccessToast","ErrorToast","blogService","authService","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","ProfilePage","authorId","author","setAuthor","blogs","setBlogs","isError","setIsError","isSuccess","setIsSuccess","message","setMessage","isLoading","setIsLoading","fetchAuthorBlogs","getUser","fetchBlogsByAuthorId","data","error","resetSuccess","resetError","AuthorDetails","className","children","style","top","firstName","lastName","src","image","alt","bio","substring","show","onClose"],"sources":["/Users/cutlass/Downloads/IX/ix-blog-app/frontend/src/pages/Profile/index.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport Navbar from \"../../components/Navbar\";\nimport BlogList from \"../../components/BlogList\";\nimport Footer from \"../../components/Footer\";\nimport Loading from \"../../components/Loading\";\nimport AddEditBlogModal from \"../../components/AddEditBlogModal\";\nimport DeleteBlogModal from \"../../components/DeleteBlogModal\";\nimport SuccessToast from \"../../components/SuccessToast\";\nimport ErrorToast from \"../../components/ErrorToast\";\n\nimport blogService from \"../../services/blogService\";\nimport authService from \"../../services/authService\";\n\nexport default function ProfilePage() {\n  const { authorId } = useParams();\n\n  const [author, setAuthor] = useState();\n  const [blogs, setBlogs] = useState([]);\n  const [isError, setIsError] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const fetchAuthorBlogs = async () => {\n      try {\n        setIsLoading(true);\n        const author = await authService.getUser(authorId);\n        const blogs = await blogService.fetchBlogsByAuthorId(authorId);\n        setBlogs(blogs.data);\n        setAuthor(author.data);\n        setIsLoading(false);\n      } catch (error) {\n        setIsError(true);\n        setIsLoading(false);\n        setMessage(error.message || error);\n      }\n    };\n    fetchAuthorBlogs();\n  }, [authorId]);\n\n  const resetSuccess = () => {\n    setIsSuccess(false);\n    setMessage(\"\");\n  };\n\n  const resetError = () => {\n    setIsError(false);\n    setMessage(\"\");\n  };\n\n  const AuthorDetails = () => {\n    return (\n      <div className=\"col-md-8 col-lg-6 col-xl-4 mx-auto\">\n        <div className=\"position-sticky my-5\" style={{ top: \"2rem\" }}>\n          <div className=\"p-4 mb-3 bg-light rounded\">\n            <h4 className=\"fst-italic\">\n              {author.firstName} {author.lastName}\n            </h4>\n            <img src={author.image} className=\"avatar\" alt=\"...\" />\n            <p>{author.bio.substring(0, 100)}...</p>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  if (isLoading || !author || !blogs) {\n    return <Loading />;\n  }\n\n  return (\n    <>\n      <Navbar />\n      <div className=\"container\">\n        <AuthorDetails />\n        <p className=\"page-subtitle\">Author Blog Posts</p>\n        <BlogList blogs={blogs} />\n        <Footer />\n      </div>\n      <AddEditBlogModal />\n      <DeleteBlogModal />\n      <SuccessToast show={isSuccess} message={message} onClose={resetSuccess} />\n      <ErrorToast show={isError} message={message} onClose={resetError} />\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}