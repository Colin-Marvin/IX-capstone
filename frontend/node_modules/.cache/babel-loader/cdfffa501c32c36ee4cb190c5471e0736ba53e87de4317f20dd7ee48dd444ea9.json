{"ast":null,"code":"import React,{useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import SuccessToast from\"../../components/SuccessToast\";import ErrorToast from\"../../components/ErrorToast\";import Loading from\"../../components/Loading\";import Navbar from\"../../components/Navbar\";import Footer from\"../../components/Footer\";import\"./index.css\";import{login,resetSuccessAndError}from\"../../features/authSlice\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function LoginPage(){const dispatch=useDispatch();const navigate=useNavigate();const{isSuccess,isError,message,isLoading}=useSelector(state=>state.auth);const[formData,setFormData]=useState({email:\"\",password:\"\"});const{email,password}=formData;const onChange=e=>{setFormData(prevState=>({...prevState,[e.target.name]:e.target.value}));};const onSubmit=async e=>{e.preventDefault();try{dispatch(login(formData));navigate(\"/home\");}catch(err){console.log(err);}};if(isLoading){return/*#__PURE__*/_jsx(Loading,{});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"html-body\",children:/*#__PURE__*/_jsx(\"main\",{className:\"form-signin\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"h3 mb-3 fw-normal\",children:\"Please login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",name:\"email\",placeholder:\"name@example.com\",value:email,onChange:onChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingInput\",children:\"Email address\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",name:\"password\",placeholder:\"Password\",value:password,onChange:onChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"w-100 btn btn-lg btn-primary\",type:\"submit\",children:\"Sign in\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"my-5\",children:\"Register\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-5 mb-3 text-muted text-center\",children:\"The Blog App \\xA9 2024\"})]})})}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(SuccessToast,{show:isSuccess,message:message,onClose:()=>{dispatch(resetSuccessAndError());}}),/*#__PURE__*/_jsx(ErrorToast,{show:isError,message:message,onClose:()=>{dispatch(resetSuccessAndError());}})]});}","map":{"version":3,"names":["React","useState","Link","useNavigate","useDispatch","useSelector","SuccessToast","ErrorToast","Loading","Navbar","Footer","login","resetSuccessAndError","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LoginPage","dispatch","navigate","isSuccess","isError","message","isLoading","state","auth","formData","setFormData","email","password","onChange","e","prevState","target","name","value","onSubmit","preventDefault","err","console","log","children","className","type","id","placeholder","htmlFor","to","show","onClose"],"sources":["/Users/cutlass/Downloads/IX/ix-blog-app/frontend/src/pages/Login/index.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport SuccessToast from \"../../components/SuccessToast\";\nimport ErrorToast from \"../../components/ErrorToast\";\nimport Loading from \"../../components/Loading\";\nimport Navbar from \"../../components/Navbar\";\nimport Footer from \"../../components/Footer\";\n\nimport \"./index.css\";\n\nimport { login, resetSuccessAndError } from \"../../features/authSlice\";\n\nexport default function LoginPage() {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const { isSuccess, isError, message, isLoading } = useSelector(\n    (state) => state.auth\n  );\n\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const { email, password } = formData;\n\n  const onChange = (e) => {\n    setFormData((prevState) => ({\n      ...prevState,\n      [e.target.name]: e.target.value,\n    }));\n  };\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      dispatch(login(formData));\n      navigate(\"/home\");\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  if (isLoading) {\n    return <Loading />;\n  }\n\n  return (\n    <>\n      <Navbar />\n      <div className=\"html-body\">\n        <main className=\"form-signin\">\n          <form onSubmit={onSubmit}>\n            <h1 className=\"h3 mb-3 fw-normal\">Please login</h1>\n            <div className=\"form-floating\">\n              <input\n                type=\"email\"\n                className=\"form-control\"\n                id=\"email\"\n                name=\"email\"\n                placeholder=\"name@example.com\"\n                value={email}\n                onChange={onChange}\n              />\n              <label htmlFor=\"floatingInput\">Email address</label>\n            </div>\n            <div className=\"form-floating\">\n              <input\n                type=\"password\"\n                className=\"form-control\"\n                id=\"password\"\n                name=\"password\"\n                placeholder=\"Password\"\n                value={password}\n                onChange={onChange}\n              />\n              <label htmlFor=\"password\">Password</label>\n            </div>\n            <button className=\"w-100 btn btn-lg btn-primary\" type=\"submit\">\n              Sign in\n            </button>\n\n            <Link to=\"/register\" className=\"my-5\">\n              Register\n            </Link>\n            <p className=\"mt-5 mb-3 text-muted text-center\">\n              The Blog App &copy; 2024\n            </p>\n          </form>\n        </main>\n      </div>\n      <Footer />\n      <SuccessToast\n        show={isSuccess}\n        message={message}\n        onClose={() => {\n          dispatch(resetSuccessAndError());\n        }}\n      />\n      <ErrorToast\n        show={isError}\n        message={message}\n        onClose={() => {\n          dispatch(resetSuccessAndError());\n        }}\n      />\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}