{"ast":null,"code":"import React,{useEffect,useState,useMemo}from\"react\";import{Modal}from\"bootstrap\";import{SketchPicker}from\"react-color\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AddEditCategoryModal(_ref){let{addCategory,editCategory,createCategory,updateCategory,onClose}=_ref;const modalEl=document.getElementById(\"addEditCategoryModal\");const addEditCategoryModal=useMemo(()=>{return modalEl?new Modal(modalEl):null;},[modalEl]);const[category,setCategory]=useState({title:\"\",description:\"\",color:\"#ffffff\"});const handleColorChange=color=>{setCategory({...category,color:color.hex});};useEffect(()=>{if(addCategory){setCategory(addCategory);addEditCategoryModal===null||addEditCategoryModal===void 0?void 0:addEditCategoryModal.show();}else if(editCategory){setCategory(editCategory);addEditCategoryModal===null||addEditCategoryModal===void 0?void 0:addEditCategoryModal.show();}},[addEditCategoryModal,addCategory,editCategory]);const resetCategory=()=>{setCategory({title:\"\",description:\"\",color:\"\"});};const onSubmit=e=>{e===null||e===void 0?void 0:e.preventDefault();if(isFormValid()){if(addCategory){createCategory(category);}else if(editCategory){updateCategory(category);}resetCategory();addEditCategoryModal===null||addEditCategoryModal===void 0?void 0:addEditCategoryModal.hide();}};const onCloseModal=()=>{resetCategory();onClose();addEditCategoryModal.hide();};const isFormValid=()=>{var _form$classList;const form=document.getElementById(\"categoryForm\");form===null||form===void 0?void 0:(_form$classList=form.classList)===null||_form$classList===void 0?void 0:_form$classList.add(\"was-validated\");return form===null||form===void 0?void 0:form.checkValidity();};return/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"addEditCategoryModal\",\"aria-labelledby\":\"addEditCategoryModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"modal-title fs-5\",id:\"addEditCategoryModalLabel\",children:addCategory&&\"Add Category\"||\"Edit Category\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:onCloseModal})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"categoryForm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"title\",value:category===null||category===void 0?void 0:category.title,onChange:e=>{setCategory({...category,title:e.target.value});},required:true}),/*#__PURE__*/_jsx(\"div\",{className:\"valid-feedback\",children:\"Looks good!\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"description\",value:category===null||category===void 0?void 0:category.description,onChange:e=>{setCategory({...category,description:e.target.value});},required:true}),/*#__PURE__*/_jsx(\"div\",{className:\"valid-feedback\",children:\"Looks good!\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"color\",className:\"form-label\",children:\"Color\"}),/*#__PURE__*/_jsx(SketchPicker,{color:category.color,onChangeComplete:handleColorChange})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:onCloseModal,children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-success\",onClick:onSubmit,children:\"Save changes\"})]})]})})});}","map":{"version":3,"names":["React","useEffect","useState","useMemo","Modal","SketchPicker","jsx","_jsx","jsxs","_jsxs","AddEditCategoryModal","_ref","addCategory","editCategory","createCategory","updateCategory","onClose","modalEl","document","getElementById","addEditCategoryModal","category","setCategory","title","description","color","handleColorChange","hex","show","resetCategory","onSubmit","e","preventDefault","isFormValid","hide","onCloseModal","_form$classList","form","classList","add","checkValidity","className","id","children","type","onClick","htmlFor","value","onChange","target","required","onChangeComplete"],"sources":["/Users/cutlass/Downloads/IX/ix-blog-app/frontend/src/components/AddEditCategoryModal/index.jsx"],"sourcesContent":["import React, { useEffect, useState, useMemo } from \"react\";\nimport { Modal } from \"bootstrap\";\nimport { SketchPicker } from \"react-color\";\n\nexport default function AddEditCategoryModal({\n  addCategory,\n  editCategory,\n  createCategory,\n  updateCategory,\n  onClose,\n}) {\n  const modalEl = document.getElementById(\"addEditCategoryModal\");\n  const addEditCategoryModal = useMemo(() => {\n    return modalEl ? new Modal(modalEl) : null;\n  }, [modalEl]);\n\n  const [category, setCategory] = useState({\n    title: \"\",\n    description: \"\",\n    color: \"#ffffff\",\n  });\n\n  const handleColorChange = (color) => {\n    setCategory({ ...category, color: color.hex });\n  };\n\n  useEffect(() => {\n    if (addCategory) {\n      setCategory(addCategory);\n      addEditCategoryModal?.show();\n    } else if (editCategory) {\n      setCategory(editCategory);\n      addEditCategoryModal?.show();\n    }\n  }, [addEditCategoryModal, addCategory, editCategory]);\n\n  const resetCategory = () => {\n    setCategory({\n      title: \"\",\n      description: \"\",\n      color: \"\",\n    });\n  };\n\n  const onSubmit = (e) => {\n    e?.preventDefault();\n    if (isFormValid()) {\n      if (addCategory) {\n        createCategory(category);\n      } else if (editCategory) {\n        updateCategory(category);\n      }\n      resetCategory();\n      addEditCategoryModal?.hide();\n    }\n  };\n\n  const onCloseModal = () => {\n    resetCategory();\n    onClose();\n    addEditCategoryModal.hide();\n  };\n\n  const isFormValid = () => {\n    const form = document.getElementById(\"categoryForm\");\n    form?.classList?.add(\"was-validated\");\n    return form?.checkValidity();\n  };\n\n  return (\n    <div\n      className=\"modal fade\"\n      id=\"addEditCategoryModal\"\n      aria-labelledby=\"addEditCategoryModalLabel\"\n      aria-hidden=\"true\"\n    >\n      <div className=\"modal-dialog modal-xl\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h1 className=\"modal-title fs-5\" id=\"addEditCategoryModalLabel\">\n              {(addCategory && \"Add Category\") || \"Edit Category\"}\n            </h1>\n            <button\n              type=\"button\"\n              className=\"btn-close\"\n              onClick={onCloseModal}\n            ></button>\n          </div>\n          <div className=\"modal-body\">\n            <form id=\"categoryForm\">\n              <div className=\"mb-3\">\n                <label htmlFor=\"title\" className=\"form-label\">\n                  Title\n                </label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"title\"\n                  value={category?.title}\n                  onChange={(e) => {\n                    setCategory({ ...category, title: e.target.value });\n                  }}\n                  required\n                />\n                <div className=\"valid-feedback\">Looks good!</div>\n              </div>\n              <div className=\"mb-3\">\n                <label htmlFor=\"description\" className=\"form-label\">\n                  Description\n                </label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"description\"\n                  value={category?.description}\n                  onChange={(e) => {\n                    setCategory({ ...category, description: e.target.value });\n                  }}\n                  required\n                />\n                <div className=\"valid-feedback\">Looks good!</div>\n              </div>\n              <div className=\"mb-3\">\n                <label htmlFor=\"color\" className=\"form-label\">\n                  Color\n                </label>\n                <SketchPicker\n                  color={category.color}\n                  onChangeComplete={handleColorChange}\n                />\n              </div>\n            </form>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-secondary\"\n              onClick={onCloseModal}\n            >\n              Close\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-outline-success\"\n              onClick={onSubmit}\n            >\n              Save changes\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}