{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useParams,useNavigate,Link}from\"react-router-dom\";import Navbar from\"../../components/Navbar\";import Categories from\"../../components/Categories\";import Footer from\"../../components/Footer\";import blogService from\"../../services/blogService\";import SuccessToast from\"../../components/SuccessToast\";import ErrorToast from\"../../components/ErrorToast\";import Loading from\"../../components/Loading\";import\"./index.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function BlogPage(){const navigate=useNavigate();const{blogId}=useParams();const[blog,setBlog]=useState(null);const[isError,setIsError]=useState(false);const[isSuccess,setIsSuccess]=useState(false);const[isLoading,setIsLoading]=useState(true);const[message,setMessage]=useState(\"\");useEffect(()=>{const fetchData=async()=>{try{setIsLoading(true);const blog=await blogService.fetchBlogByID(blogId);setBlog(blog.data);setMessage(blog.message);setIsLoading(false);}catch(error){setIsError(true);setMessage(error.message||error);setIsLoading(false);}};fetchData();},[blogId]);const resetSuccess=()=>{setIsSuccess(false);setMessage(\"\");};const resetError=()=>{setIsError(false);setMessage(\"\");};const navigateToAuthorProfile=()=>{navigate(\"/profile/\"+blog.author.id);};if(isLoading||!blog){return/*#__PURE__*/_jsx(Loading,{});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"main\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"img\",{src:blog.image,className:\"my-3 cover-img\",alt:\"...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row g-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"article\",{className:\"blog-post\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"my-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"blog-post-title\",children:blog.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"blog-post-meta\",children:[blog.updatedAt.slice(0,10),\" by\",\" \",/*#__PURE__*/_jsxs(Link,{to:\"/profile/\"+blog.author.id,children:[blog.author.firstName,\" \",blog.author.lastName]})]}),/*#__PURE__*/_jsx(\"p\",{children:blog.description}),/*#__PURE__*/_jsx(Categories,{blogPost:blog})]}),/*#__PURE__*/_jsx(\"hr\",{}),blog.content.map((content,index)=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"my-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"my-3\",children:content.sectionHeader}),/*#__PURE__*/_jsx(\"p\",{children:content.sectionText})]},index);})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"author col-md-4\",onClick:navigateToAuthorProfile,children:/*#__PURE__*/_jsx(\"div\",{className:\"position-sticky my-5\",style:{top:\"2rem\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 mb-3 bg-light rounded\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"fst-italic\",children:\"About the author\"}),/*#__PURE__*/_jsx(\"img\",{src:blog.author.image,className:\"avatar\",alt:\"...\"}),/*#__PURE__*/_jsxs(\"p\",{children:[blog.author.bio.substring(0,100),\"...\"]})]})})})]})]}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(SuccessToast,{show:isSuccess,message:message,onClose:resetSuccess}),/*#__PURE__*/_jsx(ErrorToast,{show:isError,message:message,onClose:resetError})]});}","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","Link","Navbar","Categories","Footer","blogService","SuccessToast","ErrorToast","Loading","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BlogPage","navigate","blogId","blog","setBlog","isError","setIsError","isSuccess","setIsSuccess","isLoading","setIsLoading","message","setMessage","fetchData","fetchBlogByID","data","error","resetSuccess","resetError","navigateToAuthorProfile","author","id","children","className","src","image","alt","title","updatedAt","slice","to","firstName","lastName","description","blogPost","content","map","index","sectionHeader","sectionText","onClick","style","top","bio","substring","show","onClose"],"sources":["/Users/cutlass/Downloads/IX/ix-blog-app/frontend/src/pages/Blog/index.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport { useParams, useNavigate, Link } from \"react-router-dom\";\n\nimport Navbar from \"../../components/Navbar\";\n\nimport Categories from \"../../components/Categories\";\nimport Footer from \"../../components/Footer\";\n\nimport blogService from \"../../services/blogService\";\nimport SuccessToast from \"../../components/SuccessToast\";\nimport ErrorToast from \"../../components/ErrorToast\";\nimport Loading from \"../../components/Loading\";\n\nimport \"./index.css\";\n\nexport default function BlogPage() {\n  const navigate = useNavigate();\n  const { blogId } = useParams();\n\n  const [blog, setBlog] = useState(null);\n  const [isError, setIsError] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [message, setMessage] = useState(\"\");\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setIsLoading(true);\n        const blog = await blogService.fetchBlogByID(blogId);\n        setBlog(blog.data);\n        setMessage(blog.message);\n        setIsLoading(false);\n      } catch (error) {\n        setIsError(true);\n        setMessage(error.message || error);\n        setIsLoading(false);\n      }\n    };\n    fetchData();\n  }, [blogId]);\n\n  const resetSuccess = () => {\n    setIsSuccess(false);\n    setMessage(\"\");\n  };\n\n  const resetError = () => {\n    setIsError(false);\n    setMessage(\"\");\n  };\n\n  const navigateToAuthorProfile = () => {\n    navigate(\"/profile/\" + blog.author.id);\n  };\n\n  if (isLoading || !blog) {\n    return <Loading />;\n  }\n\n  return (\n    <>\n      <Navbar />\n      <main className=\"container\">\n        <img src={blog.image} className=\"my-3 cover-img\" alt=\"...\" />\n        <div className=\"row g-5\">\n          <div className=\"col-md-8\">\n            <article className=\"blog-post\">\n              <div className=\"my-5\">\n                <h2 className=\"blog-post-title\">{blog.title}</h2>\n                <p className=\"blog-post-meta\">\n                  {blog.updatedAt.slice(0, 10)} by{\" \"}\n                  <Link to={\"/profile/\" + blog.author.id}>\n                    {blog.author.firstName} {blog.author.lastName}\n                  </Link>\n                </p>\n                <p>{blog.description}</p>\n                <Categories blogPost={blog} />\n              </div>\n              <hr />\n              {blog.content.map((content, index) => {\n                return (\n                  <div key={index} className=\"my-5\">\n                    <h2 className=\"my-3\">{content.sectionHeader}</h2>\n                    <p>{content.sectionText}</p>\n                  </div>\n                );\n              })}\n            </article>\n          </div>\n          <div className=\"author col-md-4\" onClick={navigateToAuthorProfile}>\n            <div className=\"position-sticky my-5\" style={{ top: \"2rem\" }}>\n              <div className=\"p-4 mb-3 bg-light rounded\">\n                <h4 className=\"fst-italic\">About the author</h4>\n                <img src={blog.author.image} className=\"avatar\" alt=\"...\" />\n                <p>{blog.author.bio.substring(0, 100)}...</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </main>\n      <Footer />\n      <SuccessToast show={isSuccess} message={message} onClose={resetSuccess} />\n      <ErrorToast show={isError} message={message} onClose={resetError} />\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}